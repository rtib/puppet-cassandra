<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Puppet Class: cassandra
  
    &mdash; Documentation by YARD 0.9.24
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "puppet_classes::cassandra";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (c)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet Classes</span></span>
     &raquo; 
    <span class="title">cassandra</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Puppet Class: cassandra</h1>
<div class="box_info">
  
  
  <dl>
    <dt>Defined in:</dt>
    <dd>
      manifests/init.pp
    </dd>
  </dl>
</div>

  <h2>Summary</h2>
  This is the main entry point and API for Cassandra module.

<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    
<p>Puppet module for Cassandra cluster which enables to install, configure and
manage Cassandra nodes. The module consists of the <code>install</code>
class, which is included first, followed by <code>config</code> and
<code>config::topology</code> classes. Finally, the <code>service</code>
class is included and notification from <code>config</code> are forwarded
to <code>service</code>.</p>

<p>This class is the main class of this module and the only one which should
be included in your node manifests. For documentation of the particular
feature, refer to the reference documentation of the other components.</p>

  </div>
</div>


<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_include'>include</span> <span class='id identifier rubyid_cassandra'>cassandra</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>cassandra_package</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;cassandra&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>name of the package to be installed</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>cassandra_ensure</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;installed&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>ensure clause for cassandra package</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>tools_package</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;cassandra-tools&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>package name of cassandra tools</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>tools_ensure</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$cassandra_ensure</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>ensure clause for tools package</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>manage_service</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>enables puppet to manage the service</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_ensure</span>
      
      
        <span class='type'>(<tt>Cassandra::Service::Ensure</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>ensure clause for cassandra service</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_enable</span>
      
      
        <span class='type'>(<tt>Cassandra::Service::Enable</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;manual&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>enable state of cassandra service</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;cassandra&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the name of the cassandra service</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>config_dir</span>
      
      
        <span class='type'>(<tt>Stdlib::Absolutepath</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/etc/cassandra&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>cassandra configuration directory</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>environment</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>hash of environment variable name-value pairs which should be add</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>jvm_options</span>
      
      
        <span class='type'>(<tt>Array[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>list of options to be passed to the JVM</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>java</span>
      
      
        <span class='type'>(<tt>Struct[{
    properties          =&gt; Optional[Hash],
    agents              =&gt; Optional[Hash],
    runtime_options     =&gt; Optional[Hash],
    adv_runtime_options =&gt; Optional[Hash],
  }]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>input hash to the factory of java properties, agents, runtime_options and
advanced_runtime_options</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>java_gc</span>
      
      
        <span class='type'>(<tt>Optional[Hash]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>input hash to the <code>java::gc</code> class</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>config</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>configuration hash to be merged with local cassandra.yaml on the node</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>initial_tokens</span>
      
      
        <span class='type'>(<tt>Optional[Hash[Stdlib::Host,Pattern[/^[0-9]+$/]]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>mapping inital token to nodes and merge them into the config</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>node_key</span>
      
      
        <span class='type'>(<tt>Stdlib::Host</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$facts[&#39;networking&#39;][&#39;fqdn&#39;]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the key used in initial_tokens to identify nodes</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>cassandra_home</span>
      
      
        <span class='type'>(<tt>Stdlib::Absolutepath</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/var/lib/cassandra&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>homedirectory of cassandra user</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>envfile</span>
      
      
        <span class='type'>(<tt>Stdlib::Absolutepath</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;${cassandra_home}/.cassandra.in.sh&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>envfile path containing environment settings</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rackdc</span>
      
      
        <span class='type'>(<tt>Optional[Cassandra::Rackdc]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>rack and dc settings to be used by GossipingPropertyFileSnitch</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>topology</span>
      
      
        <span class='type'>(<tt>Optional[Hash]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>hash describing the topology to be used by PropertyFileSnitch and
GossipingPropertyFileSnitch</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>topology_default</span>
      
      
        <span class='type'>(<tt>Optional[Pattern[/[a-zA-Z0-9.]:[a-zA-Z0-9.-]/]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>default dc and rack settings</p>
</div>
      
    </li>
  
</ul>


</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File 'manifests/init.pp', line 57</span>

class cassandra (
  String                      $cassandra_package = &#39;cassandra&#39;,
  String                      $cassandra_ensure = &#39;installed&#39;,
  String                      $tools_package = &#39;cassandra-tools&#39;,
  String                      $tools_ensure = $cassandra_ensure,
  Boolean                     $manage_service = true,
  Cassandra::Service::Ensure  $service_ensure = undef,
  Cassandra::Service::Enable  $service_enable = &#39;manual&#39;,
  String                      $service_name = &#39;cassandra&#39;,
  Stdlib::Absolutepath        $config_dir = &#39;/etc/cassandra&#39;,
  Hash                        $environment = {},
  Array[String]               $jvm_options = [],
  Struct[{
    properties          =&gt; Optional[Hash],
    agents              =&gt; Optional[Hash],
    runtime_options     =&gt; Optional[Hash],
    adv_runtime_options =&gt; Optional[Hash],
  }]                          $java = {},
  Optional[Hash]              $java_gc = undef,
  Hash                        $config = {},
  Optional[Hash[Stdlib::Host,Pattern[/^[0-9]+$/]]]
                              $initial_tokens = undef,
  Stdlib::Host                $node_key = $facts[&#39;networking&#39;][&#39;fqdn&#39;],
  Stdlib::Absolutepath        $cassandra_home = &#39;/var/lib/cassandra&#39;,
  Stdlib::Absolutepath        $envfile = &quot;${cassandra_home}/.cassandra.in.sh&quot;,
  Optional[Cassandra::Rackdc] $rackdc = undef,
  Optional[Hash]              $topology = undef,
  Optional[Pattern[/[a-zA-Z0-9.]:[a-zA-Z0-9.-]/]]
                              $topology_default  = undef,
) {
  contain cassandra::install
  contain cassandra::config
  contain cassandra::config::topology
  contain cassandra::service

  Class[&#39;cassandra::install&#39;]
  -&gt; Class[&#39;cassandra::config&#39;]
  ~&gt; Class[&#39;cassandra::service&#39;]
  Class[&#39;cassandra::install&#39;]
  -&gt; Class[&#39;cassandra::config::topology&#39;]
}</pre>
      </td>
    </tr>
  </table>
</div>
</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>